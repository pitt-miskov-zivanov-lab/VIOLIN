

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Formatting (VIOLIN.formatting) &mdash; Violin  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Numerical Functions (VIOLIN.numeric)" href="numeric.html" />
    <link rel="prev" title="Input and Output Functions (VIOLN.in_out)" href="in_out.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Violin
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Legal.html">License and funding</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="files.html">Input and Output Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="in_out.html">Input and Output Functions (<code class="xref py py-mod docutils literal notranslate"><span class="pre">VIOLN.in_out</span></code>)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Formatting (<code class="xref py py-mod docutils literal notranslate"><span class="pre">VIOLIN.formatting</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#functions">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="numeric.html">Numerical Functions (<code class="xref py py-mod docutils literal notranslate"><span class="pre">VIOLIN.numeric</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="network.html">Network Functions (<code class="xref py py-mod docutils literal notranslate"><span class="pre">VIOLIN.network</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="scoring.html">Scoring (<code class="xref py py-mod docutils literal notranslate"><span class="pre">VIOLIN.scoring</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization (<code class="xref py py-mod docutils literal notranslate"><span class="pre">VIOLIN.visualize_violin</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Violin</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Formatting (<code class="xref py py-mod docutils literal notranslate"><span class="pre">VIOLIN.formatting</span></code>)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/formatting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="formatting-violin-formatting">
<h1>Formatting (<code class="xref py py-mod docutils literal notranslate"><span class="pre">VIOLIN.formatting</span></code>)<a class="headerlink" href="#formatting-violin-formatting" title="Permalink to this headline">¶</a></h1>
<p>This page details the formatting functions of VIOLIN, used during model and reading input.</p>
<p>The formatting step is important, as it:</p>
<ul class="simple">
<li><p>identifies duplicate interactions in the reading output,</p></li>
<li><p>counts the number of times an interaction was found in the reading (<a class="reference internal" href="scoring.html#evidence-score"><span class="std std-ref">Evidence Score</span></a>),</p></li>
<li><p>converts the variable representation of the model regulators into the common names</p></li>
</ul>
<p>The formatting functions are also responsible for inputting models and machine
reading output which are not in the BioRECIPES or REACH format (respectively).</p>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="VIOLIN.formatting.evidence_score">
<span class="sig-prename descclassname"><span class="pre">VIOLIN.formatting.</span></span><span class="sig-name descname"><span class="pre">evidence_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reading_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_names</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/VIOLIN/formatting.html#evidence_score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#VIOLIN.formatting.evidence_score" title="Permalink to this definition">¶</a></dt>
<dd><p>This function merges duplicate interactions and calculates evidence score of each LEE</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reading_df</strong> (<em>pd.DataFrame</em>) – The dataframe of the machine reading output</p></li>
<li><p><strong>col_names</strong> (<em>list</em>) – Specifically the column headings used to determine if interactions are identical</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>counted_reading</strong> – A new dataframe with the evidence count and PMCID list for each interaction</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="VIOLIN.formatting.add_regulator_names_id">
<span class="sig-prename descclassname"><span class="pre">VIOLIN.formatting.</span></span><span class="sig-name descname"><span class="pre">add_regulator_names_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/VIOLIN/formatting.html#add_regulator_names_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#VIOLIN.formatting.add_regulator_names_id" title="Permalink to this definition">¶</a></dt>
<dd><p>This function converts the model regulator lists from BioRECIPE variables to the common element names and database identifiers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_df</strong> (<em>pd.DataFrame</em>) – The model dataframe (in BioRECIPE format)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_df</strong> – A new dataframe with added columns containing the positive and negative regulators listed
by their Element Names and IDs</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="VIOLIN.formatting.convert_to_biorecipes">
<span class="sig-prename descclassname"><span class="pre">VIOLIN.formatting.</span></span><span class="sig-name descname"><span class="pre">convert_to_biorecipes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">att_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/VIOLIN/formatting.html#convert_to_biorecipes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#VIOLIN.formatting.convert_to_biorecipes" title="Permalink to this definition">¶</a></dt>
<dd><p>This function imports a model which is NOT in the BioRECIPES format,
such as models formatted as node-edge lists.
Regulators may be represented in the REACH formatt, separated by regulator sign,
or unseparated, with a speicifed column for regulator sign</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>str</em>) – Directory and filename of the file containing the model BioRECIPES spreadsheet
Accepted files: .txt, .csv, .tsv, .xlsx</p></li>
<li><p><strong>model_cols</strong> (<em>list</em>) – Column names of the model file. Default names are found in required_model</p></li>
<li><p><strong>att_list</strong> (<em>list</em>) – List of Element attributes (in addition to Name, ID, and Type)
Default is no additional attributes</p></li>
<li><p><strong>separate</strong> (<em>Boolean</em>) – Whether or not the model presents regulator in separate Positive/Negative columns (True)
or in a single column with Regulator Sign attribute (False)
Default is True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>new_model</strong> – Formatted model dataframe</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="VIOLIN.formatting.convert_reading">
<span class="sig-prename descclassname"><span class="pre">VIOLIN.formatting.</span></span><span class="sig-name descname"><span class="pre">convert_reading</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reading</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/VIOLIN/formatting.html#convert_reading"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#VIOLIN.formatting.convert_reading" title="Permalink to this definition">¶</a></dt>
<dd><p>This function formats the machine reading output,
either separating regulator names and attributes into ‘positive’ and ‘negative’ columns to match REACH formatting,
or combining regulator names and attributes without regulator sign distinction, and adding a ‘regulator sign’ column.
This function can take the machine reading as either a filename or as an already uploaded dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reading</strong> (<em>str</em><em> or </em><em>pd.DataFrame</em>) – Machine reading output, either as file location string or dataframe</p></li>
<li><p><strong>action</strong> (<em>str</em>) – Action to be performed by function
Accepts only ‘combine’ or ‘separate’ as input</p></li>
<li><p><strong>atts</strong> (<em>list</em>) – List of attributes associated with each regualtor
Default list is [‘Type’,’ID’]
List should not include regulator signs (where applicable)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>reading_df</strong> – A dataframe with the specified formatting completed</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p><strong>Python</strong>: <a class="reference external" href="https://pandas.pydata.org/">pandas</a> and
<a class="reference external" href="https://numpy.org/">NumPy</a> libraries, as well as the
<a class="reference external" href="https://docs.python.org/2/library/os.path.html">os.path</a> module</p>
<p><strong>VIOLIN</strong>: none</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>This module is used in during file input in the <cite>input/output</cite> module. For an example of using the <cite>convert</cite> functions, see <a class="reference internal" href="tutorials.html#tutorial-4-alternative-input"><span class="std std-ref">Tutorial 4: Alternative Input</span></a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="numeric.html" class="btn btn-neutral float-right" title="Numerical Functions (VIOLIN.numeric)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="in_out.html" class="btn btn-neutral float-left" title="Input and Output Functions (VIOLN.in_out)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, MeLoDy Lab.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>